<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!--bootstrap css파일-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
    <div class = "container">
        <div>이름 : <input type="text" id="name" value="" /></div>
        <div>지역 : 
            <select id="city" onchange="changeCity();">
                <option value="02" selected>서울</option>
                <option value="064">제주</option>
        </select>   
        </div>
            <div>동네 :
                <select id="region_02">
                    <option value="">강남</option>
                    <option value="">서초</option>
                </select>
                <select id="region_064" style="display:none;">
                    <option value="">제주시</option>
                    <option value="">서귀포시</option>
                </select>
            </div>
        <button type="button" onclick="regist();">등록</button>   <!--등록버튼을 누르면 사용자가 이름과 지역을 어떻게 선택했는지 알아야 하니깐-->
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!--script가 body안에 있는것이 좋음-->
    <!--html이 먼저 실행되서 사용자입장에서 속도가 빠르게 느껴짐-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script>
        //클릭이라는 이벤트가 발생했을 때 regist()함수를 호출하겠다
        function regist() {
            // alert(document.getElementById("name").value);
            // alert(document.getElementById("city").value);
            // document.getElementById("name").value; 

            alert($("#name").val());   //alert(document.getElementById("name").value); 와 같은 의미
            alert($("#city").val());
        

        let obj = {    //서버쪽으로 사용자의 정보를 던져주기 위한 (오브젝트 선언 - 중괄호)
            name:"",
            city:""
        };
            //name, city가 key / "", ""가 value 느낌

        obj.name = $("#name").val();            //name이라는 key로 접근한 것을 의미
        obj.name = $("#city").val();             //city라는 key로 접근
        
        printConsole(obj);

        console.log(obj);    //개발자 도구에 찍어봐서 확인하기 위한 용도
        
        }

        function loadCity() {     
            let city = [
                {code:"02", name:"서울"},
                {code:"064", name: "제주"},
                {code:"062", name: "광주"}
            ];        //배열 선언 - 대괄호

            for(let i=0; i<city.length; i++) {   //여기서 city.length는 2와 같은 의미 

                if(i == 0) {
                $ ('#city').append('<option value="' + city[i].code + '" selected>' + city[i].name + '</option>');
            }   else if (i ==1) {
            }   else {
                $('#city').append('<option value"' + city[i].code + '">' + city[i].name + '</option>');
            }
            }

            // $('#city').append('<option value="02' + city[i].code + '" selected>' + city[i].name + selected>서울</option>');
            // $('#city').append('<option value="064">제주</option>');
        }

        loadCity();

        function changeCity() {
            // let city = document.getElementById("city").value;   //02나 064를 가져옴

            // document.getElementById("region_02").style.display = "none";
            // document.getElementById("region_064").style.display = "none";

            // document.getElementById("region_" + city).style.display = "";  //일단 display.none해놓은 다음에 선택된 지역만 보여주기로 하는 부분

            //위의 내용을 jquery로 작성

            let city = $('#city').val();
            $('#region_02').hide();
            $('#region_064').hide();
            $('#region_' + city).show();
        }  

        let obj ={
            name:"",
            city:""
        };

    </script>

</body>
</html>